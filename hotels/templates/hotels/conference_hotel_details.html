{% extends "hotels/base.html" %}
{% load static %}
{% block content %}
{% load widget_tweaks %}
{% load my_filters %}
{% load humanize %}


<!-- start Main Wrapper -->
<div class="main-wrapper scrollspy-action">

<div class="page-title breadcrumb-wrapper">
<div class="container">
<nav aria-label="breadcrumb">
	<ol class="breadcrumb">
		<li class="breadcrumb-item"><a href="{% url 'bookings-home'%}">Home</a></li>
		<li class="breadcrumb-item"><a href="{% url 'conferencehotels-list'%}">Conference & Meetings</a></li>
		<li class="breadcrumb-item"><a href="{% url 'conference-hotel-detail' object.slug %}">{{ object.name }}</a></li>
	</ol>
</nav>
</div>
</div>


<div class="page-wrapper page-detail bg-light">

<div class="detail-header">

<div class="container">

	<div class="d-flex flex-column flex-lg-row">

<div>
<h2 id="detail-content-sticky-nav-00" class="name">{{ object.name }}</h2>


<div class="star-rating-wrapper">
	<div class="rating-item rating-inline">
		<div class="rating-icons">
			<input type="hidden" class="rating" data-filled="rating-icon fas fa-star rating-rated" data-empty="rating-icon far fa-star" data-fractions="2" data-readonly value="4.5"/>
		</div>
	</div>
</div>

<div class="clear"></div>

<p class="location"><i class="material-icons text-info small">place</i> {{ object.address }}, {{ object.city}}, {{ object.country}} <a href="#detail-content-sticky-nav-03" class="anchor">Show map</a></p>


</div>
	{% if user.is_authenticated and object.contact_person == user %}
<div class="ml-lg-auto text-left text-lg-right mt-20 mt-lg-0">

								<!-- Button trigger modal -->
<button type="button" class="btn btn-success btn-sm mt-5" data-toggle="modal" data-target="#exampleModal">
  Add room
</button>

<!-- Modal -->
<div class="modal" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add room?</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <a href="{% url 'room-create' %}" class="anchor btn btn-primary btn-sm mt-5">Hotel Room</a>
        <a href="{% url 'conferenceroom-create' %}" class="anchor btn btn-danger btn-sm mt-5">Conference Room</a>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<a href="{% url 'hotel-update' object.id  %}" class="anchor btn btn-primary btn-sm mt-5">Edit Hotel</a>
<a href="{% url 'hotel-delete' object.id  %}" class="anchor btn btn-danger btn-sm mt-5">Delete</a>

{% else %}
<div class="ml-lg-auto text-left text-lg-right mt-20 mt-lg-0">
				
<a href="#detail-content-sticky-nav-02" class="anchor btn btn-primary btn-wide mt-5">See price and date</a>
{% endif %}

			</div>

		</div>

	</div>

</div>

<span  id="detail-content-sticky-nav-00" class="d-block"></span>

<div class="fullwidth-horizon-sticky d-none d-lg-block">

	<div class="fullwidth-horizon-sticky-inner">

		<div class="container">

			<div class="fullwidth-horizon-sticky-item clearfix">

				<ul id="horizon-sticky-nav" class="horizon-sticky-nav clearfix">
					<li>
						<a href="#detail-content-sticky-nav-00">Gallary</a>
					</li>
					<li>
						<a href="#detail-content-sticky-nav-01">Overview</a>
					</li>
					<li>
						<a href="#detail-content-sticky-nav-02">Available rooms</a>
					</li>
					<li>
						<a href="#detail-content-sticky-nav-03">What's nearby</a>
					</li>
					<li>
						<a href="#detail-content-sticky-nav-04">Facilities</a>
					</li>
					<li>
						<a href="#detail-content-sticky-nav-05">Conditions</a>
					</li>
					<li>
						<a href="#detail-content-sticky-nav-06">Reviews</a>
					</li>
				</ul>

			</div>

		</div>
	</div>
</div>

<div class="container">

<div id="change-search" class="collapse">

	<div class="change-search-wrapper rounded-0 shadow-sm mh-1 mb-0">

		<div class="row gap-10 gap-xl-20 align-items-end">

			<div class="col-12 col-lg-6">

				<div class="form-group">
					<label>Destination</label>
					<div class="form-icon-left typeahead__container">
						<span class="icon-font text-muted"><i class="bx bx-map"></i></span>
						 <input class="js-typeahead-country_v1 form-control" name="country_v1[query]" type="search" placeholder="Country or city" autocomplete="off">
					</div>
				</div>

			</div>

			<div class="col-12 col-lg-6">

				<div id="airDatepickerRange-hotel" class="row gap-10 gap-xl-20">

					<div class="col-12 col-sm-6 col-sm-6 col-md-6">

						<div class="form-group">
							<label>Check-in</label>
							<div class="form-icon-left">
								<span class="icon-font text-muted"><i class="bx bx-calendar"></i></span>
         {# {{ checkin|add_class:'form-control form-bg-light' }} #}
								{# <input type="text" id="dateStart-hotel" class="form-control form-readonly-control" placeholder="dd/mm/yyyy"> #}
							</div>
						</div>

					</div>

					<div class="col-12 col-sm-6 col-sm-6 col-md-6">

						<div class="form-group">
							<label>Check-out</label>
							<div class="form-icon-left">
								<span class="icon-font text-muted"><i class="bx bx-calendar"></i></span>
								
								<input type="text" id="dateEnd-hotel" class="form-control form-readonly-control" placeholder="dd/mm/yyyy">
							</div>
						</div>

					</div>

				</div>


			</div>

			<div class="col-12 col-sm-8 col-md-9">

				<div class="row gap-10 gap-xl-20">

					<div class="col-4 col-sm-4">

						<div class="form-group form-spin-group">
							<label for="room-amount">Rooms</label>
							<div class="form-icon-left">
								<span class="icon-font"><i class="dripicons-user text-muted"></i></span>
								<input type="text" class="form-control touch-spin-03 form-readonly-control" placeholder="dd/mm/yyyy" value="1" readonly />
							</div>
						</div>

					</div>

					<div class="col-4 col-sm-4 col-md-4" id="airDatepickerRange-hotel">

						<div class="form-group form-spin-group">
							<label for="adult-amount">Adults</label>
							<div class="form-icon-left">
								<span class="icon-font"><i class="dripicons-user text-muted"></i></span>
								<input type="text" class="form-control touch-spin-03 form-readonly-control" placeholder="dd/mm/yyyy" value="0" readonly />
							</div>
						</div>

					</div>

					<div class="col-4 col-sm-4">

						<div class="form-group form-spin-group">
							<label for="child-amount">Children</label>
							<div class="form-icon-left">
								<span class="icon-font"><i class="dripicons-user text-muted"></i></span>
								<input type="text" class="form-control touch-spin-03 form-readonly-control" placeholder="dd/mm/yyyy" value="0" readonly />
							</div>
						</div>

					</div>
				</div>

			</div>

			<div class="col-12 col-sm-4 col-md-3">
				<div class="form-group">
					<button class="btn btn-block btn-primary btn-form">Search</button>
				</div>
			</div>

		</div>

	</div>

</div>

</div>

<div class="container">

	<div class="row gap-30">

		<div class="col-12 col-lg-8 col-xl-9">

			<div class="content-wrapper">

				<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">


  <div class="carousel-inner">
  	 {% for photo in object.photo_set.all %} 
    <div class="carousel-item {% if forloop.first %}active{% endif %}">
    <img src="{{ photo.file.url }}" class="d-block w-100" alt="{{ object.name }} photo"> 

  </div>{% endfor %}

</div>
  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>

<div id="detail-content-sticky-nav-01" class="fullwidth-horizon-sticky-section">

<h3 class="heading-title"><span>Overview</span></h3>

<h6>Get the celebrity treatment with world-class service at {{ object.name }} </h6>

<p><span class="text-primary font700"><i class="fa fa-thumbs-o-up"></i> One of our bestsellers in {{ object.country }}! </span> {{ object.description }}</p>



</div>

<div id="detail-content-sticky-nav-02" class="fullwidth-horizon-sticky-section">


<h3 class="heading-title"><span>Available Conference rooms</span></h3>

<div class="room-item-wrapper">

<div class="room-item heading d-none d-md-block">

<div class="row gap-20">

<div class="col-xs-12 col-sm-12 col-md-6">

<div class="row gap-20">

	<div class="col-xss-6 col-xs-3 col-sm-4 col-md-4">

	</div>

	<div class="col-xss-12 col-xs-9 col-sm-8 col-md-8">
		<span>Room Details</span>
	</div>

</div>

</div>

<div class="col-xs-12 col-sm-8 col-sm-offset-4 col-md-6 col-md-offset-0">

<div class="row gap-20">

	<div class="col-xs-12 col-sm-8 col-md-8">
		<span>Dates</span>
	</div>

	<div class="col-xs-12 col-sm-4 col-md-4">
		<span>Guests</span>
	</div>

</div>

</div>

</div>

</div>
{% for item in object.conferenceroom_set.all %}
<div class="room-item">

<div class="row gap-20">

<div class="col-12 col-sm-12 col-md-6">
<div class="row gap-20">

	<div class="col-12 col-sm-4 col-md-4">
		<div class="image">
			<img src="{{ item.room_photo.url }}" alt="{{ item.object.name }}" />
		</div>
		<p></p>
		{% if user.is_authenticated and item.user == user %}
		<a href="{% url 'conferenceroom-update' item.id %}" class="btn btn-primary btn-xs">Edit</a>
		<a href="{% url 'conferenceroom-delete' item.id %}" class="btn btn-danger btn-xs">Delete</a>
		{% endif %}
	</div>

	<div class="col-12 col-sm-12 col-md-8">
		<div class="content">
			<h5><a href="#">{{ item.room_Name }} {{ item.room_Type }}</a></h5>
			<p>{% for list in item.features_as_list %}
			<span class="icon-font"><i class="fas fa-check-circle text-primary"></i> {{ list }} </br></span> {% endfor %}</p>
				<p class="max-man">Max. Guests : <span class="badge badge-primary">{{ item.room_Capacity }}</span>
				</span></p>
			<p class="price"><span class="number text-secondary"><small>Ksh</small>{{ item.room_Price|intcomma }}</span> per night</p>
		</div>
	</div>

</div>
</div>

<div class="col-12 col-md-6" >

<div class="row gap-20 justify-content-between">
<form method="POST" action="{% url 'conference-update-booking-2' item.slug %}" class='pull-right'>
		{% csrf_token %}
	<div  id="airDatepickerRange-general"  class="col-12 col-sm-8 col-md-8">

		<div class="form-group">
			<label class="line12 font13 spacing-05 mt-5 mb-10 block">Check-in</label>
			<div class="form-icon-left">
				<span class="icon-font text-muted"><i class="bx bx-calendar"></i></span>
				<input type="text" name='checkin'id="dateStart-general" class="form-control form-readonly-control" placeholder="dd/mm/yyyy" required>
			</div>
		</div>

		<div class="form-group">
			<label class="line12 font13 spacing-05 mt-5 mb-10 block">Check-out</label>
			<div class="form-icon-left">
				<span class="icon-font text-muted"><i class="bx bx-calendar"></i></span>
				<input type="text" name='checkout' id="dateEnd-general" class="form-control form-readonly-control" placeholder="dd/mm/yyyy" required>
			</div>
		</div>

	</div>

	<div class="col-12 col-sm-4 col-md-4">

		<div class="form-group form-spin-group mb-5">
			<label class="line12 font13 spacing-05 mt-5 mb-10 block">Attendants</label>
			<div class="form-icon-left">
				<span class="icon-font"><i class="dripicons-user text-muted"></i></span>
				<input name='qty' class="form-control touch-spin-03 form-readonly-control" value="1" readonly required/>
				</div>
				<label class="line12 font13 spacing-05 mt-5 mb-10 block">Reserve</label>
				<label class="line12 font13 spacing-05 mt-5 mb-10 block"></label>

																					<!-- Button trigger modal -->
<button type="button" class="btn btn-primary btn-sm btn-block" data-toggle="modal" data-target="#exampleModal{{ forloop.counter }}">
  Book
</button>

<!-- Modal -->
<div class="modal" id="exampleModal{{ forloop.counter }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel{{ forloop.counter }}" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel{{ forloop.counter }}">Book Accomodation</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="col-12" style="padding-left:0px">
                      <input type="checkbox" id="myCheck{{ forloop.counter }}"  onclick="myFunction()"> Do you also wish to book rooms for your guests' stay?
                      <p></p>
                      <p></p>
                      <p></p>
                    </div>
                    <div class="row" id="text{{ forloop.counter }}" style="display:none">
                    
                    	<div class="row gap-20 gap-lg-30 mb-20">
										<div class="col-8">
											<div class="form-group mb-0" style="padding-left:15px">
									<select class="custom-select custom-select-md" name="single_hotel_room">
										<option selected="" disabled>Select Single room</option>
										{% for room in object.room_set.all %}
										<option>{{ room.id}}-{{ room.room_Type}}@Kes{{ room.room_Price|intcomma}}</option>
										{%endfor %}
									</select>
								
											</div>
										</div>
										<div class="col-4">
											<div class="form-group mb-10" style="padding-right:15px">
												<div class="form-icon-left">
											<span class="icon-font"><i class="dripicons-user text-muted"></i></span>
											<input name='single-guests' class="form-control touch-spin-03 form-readonly-control" value="" readonly/>

											</div><label class="line12 font13 spacing-05 mt-5 mb-10 block">Guests</label>
											</div>
										</div>
										
									</div>
									<div class="row gap-20 gap-lg-30 mb-20">
										<div class="col-8">
											<div class="form-group mb-0" style="padding-left:15px">
									<select class="custom-select custom-select-md" name="double_hotel_room">
										<option selected="" disabled>Select Double room</option>
										{% for room in object.room_set.all %}
										<option><p style="visibility:hidden">{{ room.id}}-{{ room.room_Type}}@Kes{{ room.room_Price|intcomma}}</option>
										{%endfor %}
									</select>
								
											</div>
										</div>
										<div class="col-4">
											<div class="form-group mb-10" style="padding-right:15px">
												<div class="form-icon-left">
											<span class="icon-font"><i class="dripicons-user text-muted"></i></span>
											<input name='double-guests' class="form-control touch-spin-03 form-readonly-control" value="" readonly/>

											</div><label class="line12 font13 spacing-05 mt-5 mb-10 block">Guests</label>
											</div>
										</div>
										
									</div>
									<div class="row gap-20 gap-lg-30 mb-20">
										<div id= "CheckInDate" class="col-8">
											<div class="form-group mb-0" style="padding-left:15px">
									<input type="date" id="checkindate"  name="checkindate" class="form-control form-readonly-control">
								           <label class="line12 font13 spacing-05 mt-5 mb-10 block">CheckIn Date</label>
											</div>
										</div>
										<div class="col-4">
											<div class="form-group mb-10" style="padding-right:15px">
												<div class="form-icon-left">
											<span class="icon-font"><i class="dripicons-user text-muted"></i></span>
											<input name='nights' class="form-control touch-spin-03 form-readonly-control" value="" readonly/>

											</div><label class="line12 font13 spacing-05 mt-5 mb-10 block">Nights</label>
											</div>
										</div>
										
									</div>
							
					</div>
      </div>
      <div class="modal-footer">
      	<button type="submit" class="btn btn-primary btn-sm btn-block">Continue</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

		</div>


	</div>

</div>

</div>

</div>

</div>
</form>
{% endfor %}

</div>

</div>


</div>
</div>

	<div  class="col-12 col-lg-4 col-xl-3">

		<aside class="sticky-kit sidebar-wrapper">

			<button class="btn btn-secondary btn-wide btn-toggle collapsed btn-change-search btn-block" data-toggle="collapse" data-target="#change-search"></button>

			<div class="booking-selection-box mt-20">

				<div class="heading clearfix">
					<div class="d-flex align-items-end">
						<div>
							<h4 class="text-white font-serif font400">Your Booking</h4>
						</div>
						<div class="ml-auto">
							<a href="#" class="booking-selection-filter">reset</a>
						</div>
					</div>
				</div>

				<div class="content">

					<div class="hotel-room-sm-item">
						<div class="the-hotel-item">
							<h5><A href="#">{{ object.name }}</a></h5>
							<div class="d-flex">
								<div>
									<p class="location">{{ object.address }}, {{ object.city}}, {{ object.country}}</p>
								</div>
								<div>
									<div class="rating-item rating-xs">
										<div class="rating-icons">
											<input type="hidden" class="rating" data-filled="rating-icon fas fa-star rating-rated" data-empty="rating-icon far fa-star" data-fractions="2" data-readonly value="4.5"/>
										</div>
									</div>
								</div>
							</div>
						</div>
						
						
					</div>




					<a href="#" class="btn btn-secondary btn-block mt-20">Check out</a>

				</div>

			</div>

		</aside>

	</div>

</div>
<div class="fullwidth-horizon-sticky border-0">&#032;</div> <!-- is used to stop the above stick menu -->

</div>

</div>

<section class="bg-white section-sm">

<div class="container">

<div class="section-title mb-25">

	<h3>You may also like</h3>

</div>

<div class="row equal-height cols-1 cols-sm-2 cols-lg-3 gap-10 gap-lg-20 gap-xl-30">
	{% for hotel in hotels|slice:":3"  %}
	{% if hotel.city == object.city %}
	<div class="col">
		

		<div class="product-grid-item">

			<a href="{% url 'conference-hotel-detail' hotel.slug  %} ">

				<div class="image">
					<img src="{{hotel.property_photo.url}}" alt="Image">
				</div>

				<div class="content clearfix">

					<div class="rating-item rating-sm">
						<div class="rating-icons">
							<input type="hidden" class="rating" data-filled="rating-icon fas fa-star rating-rated" data-empty="rating-icon far fa-star" data-fractions="2" data-readonly value="4.0"/>
						</div>
						<p class="rating-text text-muted"><span class="bg-primary">6.0</span> <strong class="text-dark">Good</strong> - 1,2547 reviews</p>
					</div>

					<div class="short-info">

						<h5>{{ hotel.name }}</h5>
						<p class="location"><i class="fas fa-map-marker-alt text-primary">
							
						</i> {{ hotel.address }}, {{ hotel.city}}, {{ hotel.country}}</p>

					</div>

					<div class="price">
						<div class="float-right">
							start from
							{% for key, value in lowest_prices.items %} 
                          {% if key == hotel.name %}
							<span class="text-secondary">Ksh{{ value|intcomma }}</span>
							{% endif %}
                          {% endfor %}
							per guest
						</div>
					</div>

				</div>

			</a>

		</div>
		

	</div>
	{% endif %}

	{% endfor %}

	

</div>

</div>

</section>

</div>
<!-- end Main Wrapper -->

{% endblock content %}
